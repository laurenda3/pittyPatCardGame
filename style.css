/* style.css */
:root{
  --felt:#0f2230;
  --ink:#e9f1f7;
  --muted:#b6c4cf;
  --shadow:0 10px 24px rgba(0,0,0,.25);
  --flash:#fff8;  --win:#29e37d;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--felt);color:var(--ink);
  font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

/* ====== GRID (compact middle, room for hands) ====== */
.table-grid{
  display:grid;
  grid-template-columns: 300px 1fr 300px;
  grid-template-rows: 140px 1fr 380px;
  grid-template-areas:
    "sideL center sideR"
    "sideL center sideR"
    "bottom bottom bottom";
  height:100vh;
  gap:10px;
  padding:10px;
}

.side{display:flex; flex-direction:column; align-items:center; gap:10px}
.left{grid-area:sideL}
.right{grid-area:sideR}

/* ====== CENTER (larger upcard + deck, less empty space) ====== */
.center{grid-area:center; display:flex; flex-direction:column; align-items:center; gap:6px}
.deckrow{display:flex; flex-direction:column; align-items:center; gap:6px}
.deckpair{display:flex; align-items:center; gap:18px}

.card-zone .card, .deckback{
  width:170px;
  height:auto;
  border-radius:12px;
  box-shadow:var(--shadow);
  outline:2px solid rgba(255,255,255,.06);
}
.card-zone{
  min-height:170px;
  display:flex; align-items:center; justify-content:center;
}
.deck-count{font-size:14px; opacity:.9}

.status{
  max-width:880px; min-height:24px; padding:6px 10px; border-radius:10px;
  background:rgba(255,255,255,.06); font-size:14px; white-space:nowrap; text-overflow:ellipsis; overflow:hidden;
  margin-top:2px;
}
.controls{display:flex; gap:8px}
.btn{background:#2f4354;color:#fff;border:0;border-radius:10px;padding:9px 14px;cursor:pointer}
.btn:hover{filter:brightness(1.08)}
.btn:disabled{opacity:.5;cursor:not-allowed}

/* ====== ANNOUNCEMENTS ====== */
.announcements{
  text-align:center;
  margin:4px 0 2px;
  min-height:52px;
}
.announcements h1{
  margin:0;
  font-size:28px;
  line-height:1.05;
  letter-spacing:.3px;
}
.announcements h2{
  margin:2px 0 0;
  font-size:18px;
  font-weight:600;
  color:#d5dee6;
  opacity:.95;
}

/* ====== HANDS (all players use the same fan) ====== */
.hand{position:relative; display:flex; justify-content:center; align-items:center}

/* Fan container */
.fan{height:220px}

/* Base card in a fan */
.fan .card{
  position:absolute; bottom:0; left:50%;
  transform-origin:bottom center;
  width:160px; height:auto;
  border-radius:12px; box-shadow:var(--shadow);
  transition:transform .08s ease;
  z-index: var(--z, 1);
  cursor:pointer;
  padding:6px; background-clip:content-box; /* larger hit target */
}

/* same angles for everyone */
.fan .card:nth-child(1){ transform:translateX(-50%) rotate(-18deg) }
.fan .card:nth-child(2){ transform:translateX(-50%) rotate(-9deg) }
.fan .card:nth-child(3){ transform:translateX(-50%) rotate(0deg) }
.fan .card:nth-child(4){ transform:translateX(-50%) rotate(9deg) }
.fan .card:nth-child(5){ transform:translateX(-50%) rotate(18deg) }
.fan .card:nth-child(6){ transform:translateX(-50%) rotate(24deg) }
.fan .card:nth-child(7){ transform:translateX(-50%) rotate(30deg) }

/* your hover lift (bots don't hover) */
.my-hand .card:hover{
  transform:translateX(-50%) rotate(var(--rot,0deg)) translateY(-4px);
}

/* playable card pops forward and stacks on top */
.fan .card.playable{
  transform: translateX(-50%) rotate(var(--rot,0deg)) translateY(-16px) scale(1.06);
  box-shadow:0 18px 32px rgba(0,0,0,.35);
  outline:2px solid rgba(255,255,255,.25);
  --z: 10;
}

/* stronger focus (first playable) centers a bit more */
.fan .card.playable.focus{
  transform: translateX(-50%) rotate(0deg) translateY(-22px) scale(1.08);
  --z: 12;
}

/* side players: same fan, just a touch higher to fit lanes */
.fan-side{ height:200px; margin-top:-6px }

/* Lanes */
.lane-title{font-size:12px;color:var(--muted);text-align:center}
.mini-lane{display:flex; flex-direction:column; align-items:center}
.lane{display:flex; gap:6px; flex-wrap:wrap; justify-content:center; min-height:40px}
.small{width:58px !important}
.tiny{width:46px !important}
.pair{display:inline-flex; align-items:center; gap:3px; padding:3px 6px; border-radius:8px; background:rgba(255,255,255,.06)}

/* Bottom (your area) */
.bottom{grid-area:bottom; display:flex; flex-direction:column; align-items:center; gap:8px}
.bottom-lanes{display:flex; gap:18px; align-items:flex-start}
.youtag{text-align:center; opacity:.9}

/* Flash banners */
.flash{
  position:fixed; left:50%; top:9%; transform:translate(-50%,-20%);
  background:var(--flash); color:#041018; padding:10px 16px; border-radius:14px;
  font-weight:700; font-size:22px; box-shadow:var(--shadow); opacity:0;
  pointer-events:none; transition:opacity .25s ease, transform .25s ease; z-index:10}
.flash.show{opacity:1; transform:translate(-50%,0)}
.flash.win{background:linear-gradient(90deg,#fff8,#fff8),#182; color:#dfffe9; border:2px solid var(--win)}

@media (max-width:1100px){
  .table-grid{
    grid-template-columns:1fr;
    grid-template-rows: 150px auto 340px;
    grid-template-areas: "center" "sideL" "sideR" "bottom";
  }
  .card-zone .card,.deckback{width:140px}
  .fan .card{width:140px}
}
